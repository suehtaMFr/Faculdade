<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Sessão - Cinema Torres</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
		<h1 class="text-center text-dark">Cinema Torres</h1>
        <nav class="nav justify-content-center">
            <a class="nav-link menu-item" href="home.html">Home</a>
			<a class="nav-link menu-item" href="filmes.html">Registrar Filme</a>
            <a class="nav-link menu-item" href="sessao.html">Criar Sessão</a>
            <a class="nav-link menu-item" href="salas.html">Registrar Sala</a>
            <a class="nav-link menu-item" href="ingressos.html">Comprar Ingresso</a>
            <a class="nav-link menu-item" href="contato.html">Contato</a>
        </nav>
        <h1>Criar Sessão</h1>
        <form id="formSessao">
            <div class="mb-3">
                <label for="filme" class="form-label">Filme</label>
                <select class="form-control" id="filme" required>
                    <!-- Aqui os filmes serão carregados -->
                </select>
            </div>
            <div class="mb-3">
                <label for="sala" class="form-label">Sala</label>
                <input type="number" class="form-control" id="sala" required>
            </div>
            <div class="mb-3">
                <label for="horario" class="form-label">Horário da Sessão</label>
                <input type="datetime-local" class="form-control" id="horario" required>
            </div>
            <button type="button" class="btn btn-primary" onclick="criarSessao()">Criar Sessão</button>
        </form>
    </div>

    <script src="gerenciamento.js"></script>
    <script>
        // Função para carregar os filmes salvos no campo de seleção
        function carregarFilmes() {
            const selectFilme = document.getElementById('filme');
            selectFilme.innerHTML = ''; // Limpa o conteúdo anterior

            // Verifica se existem filmes salvos
            if (filmes.length === 0) {
                const option = document.createElement('option');
                option.value = '';
                option.textContent = 'Nenhum filme registrado';
                selectFilme.appendChild(option);
                return;
            }

            // Carrega cada filme registrado na lista de opções
            filmes.forEach(filme => {
                const option = document.createElement('option');
                option.value = filme.titulo;
                option.textContent = filme.titulo;
                selectFilme.appendChild(option);
            });
        }

        // Chama a função para carregar os filmes ao carregar a página
        window.onload = carregarFilmes;
    </script>
</body>
</html>
